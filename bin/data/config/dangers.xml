<?xml version="1.0"?>

<dangers>
	
	<!-- Fire -->
	<danger name="fire">
		<initial_state>0</initial_state>
		<initial_hp>100</initial_hp>
		<damage_factor>0.3</damage_factor>
		<base_line x="16" y="76" width="213" />
		
		<danger_states>
			<!-- State 0: Intact fire -->
			<danger_state>
				<animation_state>0</animation_state>
				<state_transition conditions="extinguisher_on:10:100" responses="-150:-1:-1" dps="1" />
				<state_transition conditions="extinguisher_on:0:9" responses="all:1:-1" dps="0" />
				<taunt type="burn">
					<tool>hand</tool>
					<tool>gavel</tool>
				</taunt>
			</danger_state>
			
			<!-- State 1: Fire disappearing -->
			<danger_state>
				<animation_state>1</animation_state>
			</danger_state>
		</danger_states> 
	</danger>

	<!-- Ice crystals -->
	<danger name="ice_crystals">
		<initial_state>0</initial_state>
		<initial_hp>100</initial_hp>
		<damage_factor>0.3</damage_factor>
		<base_line x="3" y="81" width="152" />
		
		<danger_states>
			<!-- State 0: Intact ice crystals -->
			<danger_state>
				<animation_state>0</animation_state>
				<state_transition conditions="lighter_on:10:100" responses="-150:-1:-1" dps="1" />
				<state_transition conditions="lighter_on:0:9" responses="all:1:-1" dps="0" />
				<taunt type="freezing">
					<tool>hand</tool>
				</taunt>
			</danger_state>
			
			<!-- State 1: Danger removed -->
			<danger_state>
				<animation_state>1</animation_state>
			</danger_state>
		</danger_states> 
	</danger>

	<!-- Rat -->
	<danger name="rat">
		<initial_state>0</initial_state>
		<initial_hp>100</initial_hp>
		<damage_factor>0.3</damage_factor>
		<base_line x="4" y="115" width="78" />
		
		<danger_states>
			<!-- State 0: Intact rat -->
			<danger_state>
				<animation_state>0</animation_state>
				<state_transition conditions="gavel_hit:0:100" responses="-75:1:-1" dps="0" />
				<taunt type="bite">
					<tool>hand</tool>
				</taunt>
			</danger_state>

			<!-- State 1: Stun rat -->
			<danger_state>
				<animation_state>1</animation_state>
				<state_transition conditions="hand_click:0:100" responses="all:2:-1" dps="0" />
			</danger_state>

			<!-- State 2: Danger removed -->
			<danger_state>
				<animation_state>2</animation_state>
			</danger_state>
		</danger_states>
	</danger>

	<!-- Knife -->
	<danger name="knife">
		<initial_state>0</initial_state>
		<initial_hp>100</initial_hp>
		<damage_factor>0.1</damage_factor>
		<base_line x="9" y="103" width="40" />
		
		<danger_states>
			<!-- State 0: Intact knife -->
			<danger_state>
				<animation_state>0</animation_state>
				<state_transition conditions="hand_click:100:100" responses="all:1:-1" dps="0" />
			</danger_state>

			<!-- State 1: Knife removed -->
			<danger_state>
				<animation_state>1</animation_state>
			</danger_state>
		</danger_states>
	</danger>


	<!-- Shell -->
	<danger name="shell">
		<initial_state>0</initial_state>
		<initial_hp>100</initial_hp>
		<damage_factor>0.30</damage_factor>
		<base_line x="3" y="67" width="148" />
		
		<danger_states>
			<!-- State 0: Intact shell -->
			<danger_state>
				<animation_state>0</animation_state>
				<state_transition conditions="gavel_hit:0:100" responses="-10:1:-1" dps="0" />
				<state_transition conditions="hand_click:0:100" responses="all:8:-1" dps="0" />
			</danger_state>

			<!-- State 1: Damaged shell (I) -->
			<danger_state>
				<animation_state>1</animation_state>
				<state_transition conditions="gavel_hit:0:100" responses="-10:2:-1" dps="0" />
				<state_transition conditions="hand_click:0:100" responses="all:8:-1" dps="0" />
			</danger_state>

			<!-- State 2: Damaged shell (II) -->
			<danger_state>
				<animation_state>2</animation_state>
				<state_transition conditions="gavel_hit:0:100" responses="-10:3:-1" dps="0" />
				<state_transition conditions="hand_click:0:100" responses="all:8:-1" dps="0" />
			</danger_state>

			
			<!-- State 3: Damaged shell (III) -->
			<danger_state>
				<animation_state>3</animation_state>
				<state_transition conditions="gavel_hit:0:100" responses="-10:4:-1" dps="0" />
				<state_transition conditions="hand_click:0:100" responses="all:8:-1" dps="0" />
			</danger_state>

			
			<!-- State 4: Damaged shell (IV) -->
			<danger_state>
				<animation_state>4</animation_state>
				<state_transition conditions="gavel_hit:0:100" responses="-10:5:-1" dps="0" />
				<state_transition conditions="gavel_hit:0:100" responses="-10:6:-1" dps="0" />
				<state_transition conditions="hand_click:0:100" responses="all:8:-1" dps="0" />
			</danger_state>


			<!-- State 5: Open empty shell -->
			<danger_state>
				<animation_state>5</animation_state>
				<state_transition conditions="hand_click:0:100" responses="-10:8:-1" dps="0" />
				<state_transition conditions="hand_click:0:100" responses="all:8:-1" dps="0" />
			</danger_state>


			<!-- State 6: Open shell with pearl -->
			<danger_state>
				<animation_state>6</animation_state>
				<state_transition conditions="gavel_hit:0:100" responses="-10:7:-1" dps="0" />
				<state_transition conditions="hand_click:0:100" responses="all:8:-1" score_bonus="100" dps="0" />
			</danger_state>


			<!-- State 7: Open shell with broken pearl -->
			<danger_state>
				<animation_state>7</animation_state>
				<state_transition conditions="hand_click:0:100" responses="all:8:-1" dps="0" />
				<state_transition conditions="hand_click:0:100" responses="all:8:-1" dps="0" />
			</danger_state>


			<!-- State 8: Shell removed -->
			<danger_state>
				<animation_state>8</animation_state>
			</danger_state>
			
		</danger_states>
	</danger>


	<!-- Tesla coils -->
	<danger name="tesla_coils">
		<initial_state>0</initial_state>
		<initial_hp>100</initial_hp>
		<damage_factor>0.40</damage_factor>
		<base_line x="4" y="118" width="115" />
		
		<danger_states>
			<!-- State 0: Intact tesla coils (off) -->
			<danger_state>
				<animation_state>0</animation_state>
				<state_transition conditions="hand_click:0:100" responses="all:2:-1" dps="0" />
			</danger_state>

			<!-- State 1: Intact tesla coils (on) -->
			<danger_state>
				<animation_state>1</animation_state>
			</danger_state>

			<!-- State 2: Tesla coils removed -->
			<danger_state>
				<animation_state>2</animation_state>
			</danger_state>
		</danger_states>
	</danger>
	
</dangers>
